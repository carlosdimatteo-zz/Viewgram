<!--
  Generated template for the UserProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>userProfile</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-grid *ngIf="json">
        <ion-row>
          <ion-col>
            <img src="json.data.avatar" class="ProfilePic">
          </ion-col>
          <ion-col>
            <span><h3>{{json.data.name}}</h3></span> 
          </ion-col>
          <ion-col>
              <span>Posts: {{json.data.postscount}}</span>
              <span>Followers : {{json.data.followers}}</span>
              <span>Following: {{json.data.following}}</span>
            </ion-col>

          </ion-row>
          <ion-row>
              <ion-col>
                <button ion-button *ngIf="user_id!=json.data.user_id&&!json.data.logged_following" (click)="follow()">Follow</button>
              </ion-col>
              <ion-col>
                  <button ion-button *ngIf="user_id!=json.data.user_id&&json.data.logged_following" (click)="unfollow()" >Unfollow</button>
                </ion-col>
              </ion-row>
          <ion-row> 
            <ion-col>
              <span>Bio : {{json.data.biography}}</span>
            </ion-col>
          </ion-row>
          <hr/>
          <ion-row>
              <ion-col>
                  <div padding>
                      <ion-segment [(ngModel)]="Post">
                        <ion-segment-button value="userPosts">
                          Posts
                        </ion-segment-button>
                      </ion-segment>
                    </div>
                    
                    <div [ngSwitch]="Post">
                      <ion-row *ngSwitchCase="'userPosts'" >
                          <ion-col *ngFor="let post of json.posts">
                              <img (click)="goToPost(post.post_id)" src="{{post.post_filename}}">
                          </ion-col>
                        </ion-row>
                    </div>
              </ion-col>
          </ion-row>
        <hr>
        
    
    
      </ion-grid>
</ion-content>
